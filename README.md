# Token Airdrop System on Kalp Blockchain

This project implements a comprehensive token airdrop system using the Kalp blockchain, consisting of a Go-based smart contract backend and a React frontend application. It allows users to claim tokens, check balances, transfer tokens, and view the total supply, demonstrating the integration of blockchain technology with a modern web application.

## Project Structure

- `Smart-Contract/`: Go-based smart contract for the token airdrop system
  - `krc.go`: Main smart contract file implementing token logic
  - `go.mod`: Go module file specifying dependencies
  - `go.sum`: Go module checksum file ensuring dependency consistency
- `frontend/`: React-based frontend application
  - `src/`: Source code
    - `app/`: Next.js app directory
      - `page.tsx`: Main application page component
      - `layout.tsx`: Root layout component
    - `hooks/`: Custom React hooks
      - `useKalpAPI.tsx`: Hook for Kalp blockchain interactions
    - `components/`: Reusable React components (if any)
  - `public/`: Static assets (images, fonts, etc.)
  - `package.json`: Node.js dependencies and scripts
  - `tsconfig.json`: TypeScript configuration
  - `.env.local`: Local environment variables (not in version control)
  - `.gitignore`: Specifies intentionally untracked files to ignore

## Prerequisites

- Go version `>=1.19` but `<1.20` 
- Node.js version `>=14.x`
- npm version `>=6.x`
- Kalp Studio account for smart contract deployment and API key generation
- Git for version control

## Detailed Setup Guide

1. Clone the repository:
   ```bash
   git clone https://github.com/your-repo/token-airdrop-system.git
   cd token-airdrop-system
   ```

2. Set up the smart contract:
   ```bash
   cd Smart-Contract
   go mod tidy
   # Optionally, run tests if available
   go test ./...
   ```

3. Set up the frontend:
   ```bash
   cd ../frontend
   npm install
   ```

4. Create and configure the `.env.local` file in the `frontend` directory:
   ```bash
   echo "NEXT_PUBLIC_API_KEY=your-kalp-api-key" > .env.local
   ```
   Replace `your-kalp-api-key` with the actual API key from Kalp Studio.

5. Deploy the smart contract:
   - Log in to Kalp Studio (https://studio.kalp.com)
   - Create a new smart contract project
   - Upload the `krc.go` file from the `Smart-Contract` directory
   - Deploy the contract and note the contract ID
   - Generate API endpoints for each function (Initialize, Claim, BalanceOf, TotalSupply, TransferFrom)
   - Generate an API key for authentication if you haven't already

6. Update API endpoints:
   - Open `frontend/src/hooks/useKalpAPI.tsx`
   - Replace the placeholder endpoints with the ones generated by Kalp Studio, for example:
     ```typescript
     const claim = async (address: string) => {
       const endpoint = 'https://gateway-api.kalp.studio/v1/contract/kalp/invoke/YourContractID/Claim';
       // ... rest of the function
     };
     ```
   - Repeat this for all functions (claim, balanceOf, totalSupply, transferFrom)

7. Start the frontend development server:
   ```bash
   npm run dev
   ```

8. Open `http://localhost:3000` in your web browser to interact with the application.

## Features and Implementation Details

1. Token Minting (Claiming):
   - Users can claim a predefined amount of tokens.
   - Implemented in the smart contract's `Claim` function and exposed through the frontend.
   - Frontend uses the `claim` function in `useKalpAPI.tsx` to interact with the blockchain.

2. Balance Checking:
   - Users can check their token balance.
   - Utilizes the `BalanceOf` function in the smart contract.
   - Frontend displays balance using data fetched via `balanceOf` in `useKalpAPI.tsx`.

3. Token Transfers:
   - Users can transfer tokens between accounts.
   - Implemented using the `TransferFrom` function in the smart contract.
   - Frontend provides a form for users to input recipient address and amount.

4. Total Supply Viewing:
   - Users can view the total supply of tokens in circulation.
   - Uses the `TotalSupply` function from the smart contract.
   - Displayed on the frontend, updated periodically or on user action.

## Security Considerations

- API Key Protection: Ensure the Kalp API key is never exposed in the frontend code or version control.
- Input Validation: Implement thorough input validation on both frontend and smart contract to prevent malicious inputs.
- Rate Limiting: Consider implementing rate limiting for API calls to prevent abuse.
- Error Handling: Implement comprehensive error handling in both frontend and smart contract code.

## Performance Optimization

- Caching: Implement caching for API responses to reduce unnecessary blockchain queries.
- Lazy Loading: Use lazy loading for components and data to improve initial load times.
- Pagination: If dealing with large datasets, implement pagination in API calls and frontend display.

## Testing

- Smart Contract: Write and run Go tests for the smart contract functions.
- Frontend: Implement unit tests for React components and integration tests for API interactions.
- End-to-End Testing: Consider implementing end-to-end tests to ensure full system functionality.

## Deployment

- Smart Contract: Already deployed on Kalp blockchain via Kalp Studio.
- Frontend: Deploy to a static hosting service like Vercel, Netlify, or AWS S3.
  - Ensure environment variables are properly set in the production environment.

## Monitoring and Maintenance

- Implement logging in both smart contract and frontend for easier debugging and monitoring.
- Set up alerts for unusual activity or errors in the system.
- Regularly update dependencies and address any security vulnerabilities.

## Contributing

1. Fork the repository
2. Create a new branch for your feature (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

Please read the individual README files in the `Smart-Contract` and `frontend` directories for specific contribution guidelines.



## Troubleshooting

If you encounter any issues:
1. Ensure all prerequisites are correctly installed and at the specified versions.
2. Verify that the API key and endpoints are correctly set up in `frontend/.env.local` and `frontend/src/hooks/useKalpAPI.tsx`.
3. Check that the smart contract is properly deployed on Kalp Studio and accessible.
4. Examine the browser console and server logs for any error messages.
5. Ensure all dependencies are installed (`npm install` in frontend directory).
6. Clear browser cache and restart the development server if changes are not reflecting.

For more detailed information and component-specific troubleshooting, refer to the README files in the `Smart-Contract` and `frontend` directories.

## Additional Resources

- [Kalp Blockchain Documentation](https://docs.kalp.com)
- [React Documentation](https://reactjs.org/docs/getting-started.html)
- [Next.js Documentation](https://nextjs.org/docs)
- [Go Programming Language](https://golang.org/doc/)

## Support

For additional support or questions, please open an issue in the GitHub repository or contact the maintainers directly.
